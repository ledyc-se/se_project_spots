!function(){"use strict";var e="";const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},o=(e,t,o)=>{const n=e.querySelector(`#${t.id}-error`);n&&(n.textContent="")},n=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?(r(t,o),t.classList.add(o.inactiveButtonClass)):(t.disabled=!1,t.classList.remove(o.inactiveButtonClass))},r=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},a=e=>{document.querySelectorAll(e.formSelector).forEach((t=>{((e,t)=>{const r=Array.from(e.querySelectorAll(t.inputSelector)),a=e.querySelector(t.submitButtonSelector);n(r,a,t),r.forEach((c=>{c.addEventListener("input",(function(){((e,t,n)=>{t.validity.valid?o(e,t):((e,t,o,n)=>{e.querySelector(`#${t.id}-error`).textContent=o,t.classList.add(n.inputErrorClass)})(e,t,t.validationMessage,n)})(e,c,t),n(r,a,t)}))}))})(t,e)}))};a(t);var c=e+"d3610e9c6dce3cb370d8.svg",s=e+"2fc47fd8e9a9bcd9612f.jpg",l=e+"d38272e02bb4f1ab1c37.svg",i=e+"40608da7369d39bc1077.svg";document.getElementById("spotsLogo").src=c,document.getElementById("profile-avatar").src=s,document.getElementById("pencil-icon").src=l,document.getElementById("plus-icon").src=i;const d=document.querySelector(".profile__edit-btn"),u=document.querySelector(".profile__name"),m=document.querySelector(".profile__description"),p=document.querySelector(".modal__form"),_=document.querySelector("#edit-modal"),f=document.querySelector(".modal__close-btn"),y=_.querySelector("#profile-name-input"),v=_.querySelector("#profile-description-input"),g=document.querySelector("#add-card-modal"),S=g.querySelector(".modal__close-btn"),b=document.querySelector(".profile__add-btn"),q=g.querySelector(".modal__form"),h=g.querySelector("#add-card-name-input"),k=g.querySelector("#add-card-link-input"),w=document.querySelector("#preview-modal"),E=w.querySelector(".modal__image"),L=w.querySelector(".modal__caption"),x=w.querySelector(".modal__close-btn-preview"),C=q.querySelector(".modal__button"),B=document.querySelector("#card-template"),z=document.querySelector(".cards__list");function j(e){e.classList.add("modal_opened"),e.addEventListener("click",A),document.addEventListener("keydown",G)}function A(e){e.target.classList.contains("modal")&&I(e.target)}function I(e){e.classList.remove("modal_opened"),e.removeEventListener("click",A),document.removeEventListener("keydown",G)}function D(e){const t=B.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),n=t.querySelector(".card__image"),r=t.querySelector(".card__like-button"),a=t.querySelector(".card__delete-button");return o.textContent=e.name,n.src=e.link,n.alt=e.name,r.addEventListener("click",(()=>{r.classList.toggle("card__like-button_liked")})),n.addEventListener("click",(()=>{j(w),L.textContent=e.name,E.src=e.link,E.alt=e.name})),a.addEventListener("click",(()=>{t.remove()})),t}function G(e){if("Escape"===e.key){const e=document.querySelector(".modal_opened");e&&I(e)}}d.addEventListener("click",(()=>{var e,r,a,c;y.value=u.textContent,v.value=m.textContent,e=p,r=[y,v],a=p.querySelector(".modal__submit-btn"),c=t,r.forEach((t=>{o(e,t)})),n(r,a,c),j(_)})),f.addEventListener("click",(()=>{I(_)})),x.addEventListener("click",(()=>{I(w)})),p.addEventListener("submit",(function(e){e.preventDefault(),u.textContent=y.value,m.textContent=v.value,I(_)})),b.addEventListener("click",(()=>{j(g)})),S.addEventListener("click",(()=>{I(g)})),q.addEventListener("submit",(function(e){e.preventDefault();const o={name:h.value,link:k.value};e.target.reset();const n=D(o);z.prepend(n),I(g),disableButton(C,t)})),[{name:"Golden Gate bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach((e=>{const t=D(e);z.append(t)})),a(t)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZS9ELEVBQy9CLElBbkhxQixDQUNuQixDQUNFb0YsS0FBTSxxQkFDTkMsS0FBTSw4SEFFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLDJIQUVSLENBQ0VELEtBQU0sNEJBQ05DLEtBQU0sMEhBR1IsQ0FDRUQsS0FBTSw0REFDTkMsS0FBTSwySEFFUixDQUNFRCxLQUFNLGtCQUNOQyxLQUFNLHlIQUVSLENBQ0VELEtBQU0scUJBQ05DLEtBQU0sbUhBRVIsQ0FDRUQsS0FBTSxjQUNOQyxLQUFNLDRIQStJR3ZELFNBQVNtRSxJQUNwQixNQUFNcEIsRUFBY0YsRUFBZXNCLEdBQ25DaEMsRUFBVWlDLE9BQU9yQixFQUFZLElBWS9CbEQsRUFBaUIzQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXHJcbn07XHJcblxyXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1zZywgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbn07XHJcblxyXG5jb25zdCBoaWRlSW5wdXRFcnJvciA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcclxuICBjb25zdCBlcnJvck1zZ0VsID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gIGlmIChlcnJvck1zZ0VsKSB7XHJcbiAgICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgIHNob3dJbnB1dEVycm9yKFxyXG4gICAgICBmb3JtRWxlbWVudCxcclxuICAgICAgaW5wdXRFbGVtZW50LFxyXG4gICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXHJcbiAgICAgIGNvbmZpZ1xyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoaW5wdXRMaXN0LCBzdWJtaXRCdXR0b24sIGNvbmZpZykgPT4ge1xyXG4gIGlmIChoYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xyXG4gICAgZGlzYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24sIGNvbmZpZyk7XHJcbiAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGRpc2FibGVCdXR0b24gPSAoc3VibWl0QnV0dG9uLCBjb25maWcpID0+IHtcclxuICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoXHJcbiAgZm9ybUVsZW1lbnQsXHJcbiAgaW5wdXRMaXN0LFxyXG4gIHN1Ym1pdEJ1dHRvbixcclxuICBjb25maWdcclxuKSA9PiB7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXQpO1xyXG4gIH0pO1xyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgc3VibWl0QnV0dG9uLCBjb25maWcpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQsIGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICk7XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHN1Ym1pdEJ1dHRvbiwgY29uZmlnKTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHN1Ym1pdEJ1dHRvbiwgY29uZmlnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyByZXNldFZhbGlkYXRpb24gfSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XHJcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24gfSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XHJcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5pbXBvcnQgbG9nb1NyYyBmcm9tIFwiLi4vaW1hZ2VzL3Nwb3RzLWxvZ28uc3ZnXCI7XHJcbmltcG9ydCBhdmF0YXJTcmMgZnJvbSBcIi4uL2ltYWdlcy9hdmF0YXIuanBnXCI7XHJcbmltcG9ydCBwZW5jaWxTcmMgZnJvbSBcIi4uL2ltYWdlcy9wZW5jaWwtaWNvbi5zdmdcIjtcclxuaW1wb3J0IHBsdXNTcmMgZnJvbSBcIi4uL2ltYWdlcy9wbHVzLXNpZ24taWNvbi5zdmdcIjtcclxuXHJcbmNvbnN0IHNwb3RzTG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3BvdHNMb2dvXCIpO1xyXG5zcG90c0xvZ28uc3JjID0gbG9nb1NyYztcclxuY29uc3Qgc3BvdHNBdmF0YXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGUtYXZhdGFyXCIpO1xyXG5zcG90c0F2YXRhci5zcmMgPSBhdmF0YXJTcmM7XHJcbmNvbnN0IHNwb3RzUGVuY2lsSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVuY2lsLWljb25cIik7XHJcbnNwb3RzUGVuY2lsSWNvbi5zcmMgPSBwZW5jaWxTcmM7XHJcbmNvbnN0IHNwb3RzUGx1c0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsdXMtaWNvblwiKTtcclxuc3BvdHNQbHVzSWNvbi5zcmMgPSBwbHVzU3JjO1xyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiR29sZGVuIEdhdGUgYnJpZGdlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNy1waG90by1ieS1ncmlmZmluLXdvb2xkcmlkZ2UtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vdW50YWluIGhvdXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlR1bm5lbCB3aXRoIG1vcm5pbmcgbGlnaHRcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy81LXBob3RvLWJ5LXZhbi1hbmgtbmd1eWVuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6IFwiQSB2ZXJ5IGxvbmcgYnJpZGdlLCBvdmVyIHRoZSBmb3Jlc3QgYW5kIHRocm91Z2ggdGhlIHRyZWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNC1waG90by1ieS1tYXVyaWNlLWxhc2NoZXQtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkFuIG91dGRvb3IgY2FmZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzMtcGhvdG8tYnktdHViYW51ci1kb2dhbi1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUmVzdGF1cmFudCB0ZXJyYWNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMi1waG90by1ieS1jZWlsaW5lLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWwgVGhvcmVuc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzEtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBlZGl0TW9kYWxDbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuY29uc3QgZWRpdE1vZGFsTmFtZUlucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0ID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiXHJcbik7XHJcblxyXG5jb25zdCBjYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBjYXJkTW9kYWxDbG9zZUJ0biA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XHJcbmNvbnN0IGNhcmRNb2RhbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTtcclxuY29uc3QgY2FyZEZvcm1Nb2RhbE5ld1Bvc3QgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgZWRpdENhcmROYW1lSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBlZGl0Q2FyZExpbmtJbnB1dCA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWxpbmstaW5wdXRcIik7XHJcblxyXG5jb25zdCBwcmV2aWV3TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ByZXZpZXctbW9kYWxcIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbEltZ0VsID0gcHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwcmV2aWV3TW9kYWxDYXB0aW9uRWwgPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcclxuY29uc3QgcHJldmlld01vZGFsQ2xvc2VCdG4gPSBwcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fY2xvc2UtYnRuLXByZXZpZXdcIlxyXG4pO1xyXG5jb25zdCBjYXJkU3VibWl0QnRuID0gY2FyZEZvcm1Nb2RhbE5ld1Bvc3QucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpO1xyXG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbE92ZXJsYXkpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWxPdmVybGF5KGV2dCkge1xyXG4gIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XHJcbiAgICBjbG9zZU1vZGFsKGV2dC50YXJnZXQpO1xyXG4gIH1cclxufVxyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0TW9kYWxOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICBlZGl0TW9kYWxEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50O1xyXG4gIHJlc2V0VmFsaWRhdGlvbihcclxuICAgIGVkaXRGb3JtRWxlbWVudCxcclxuICAgIFtlZGl0TW9kYWxOYW1lSW5wdXQsIGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXRdLFxyXG4gICAgZWRpdEZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idG5cIiksXHJcbiAgICBzZXR0aW5nc1xyXG4gICk7XHJcblxyXG4gIG9wZW5Nb2RhbChlZGl0TW9kYWwpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1vZGFsT3ZlcmxheSk7XHJcblxyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gZWRpdE1vZGFsTmFtZUlucHV0LnZhbHVlO1xyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGVkaXRNb2RhbERlc2NyaXB0aW9uSW5wdXQudmFsdWU7XHJcbiAgY2xvc2VNb2RhbChlZGl0TW9kYWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVOZXdQb3N0Rm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBpbnB1dFZhbHVlcyA9IHtcclxuICAgIG5hbWU6IGVkaXRDYXJkTmFtZUlucHV0LnZhbHVlLFxyXG4gICAgbGluazogZWRpdENhcmRMaW5rSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuXHJcbiAgZXZ0LnRhcmdldC5yZXNldCgpO1xyXG5cclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGlucHV0VmFsdWVzKTtcclxuICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWxlbWVudCk7XHJcbiAgY2xvc2VNb2RhbChjYXJkTW9kYWwpO1xyXG5cclxuICBkaXNhYmxlQnV0dG9uKGNhcmRTdWJtaXRCdG4sIHNldHRpbmdzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gIGNvbnN0IGNhcmROYW1lRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgY29uc3QgY2FyZEltYWdlRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY29uc3QgY2FyZExpa2VCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gIGNvbnN0IGNhcmREZWxldGVCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcblxyXG4gIGNhcmROYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICBjYXJkSW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1hZ2VFbGVtZW50LmFsdCA9IGRhdGEubmFtZTtcclxuXHJcbiAgY2FyZExpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNhcmRMaWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9saWtlZFwiKTtcclxuICB9KTtcclxuXHJcbiAgY2FyZEltYWdlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgb3Blbk1vZGFsKHByZXZpZXdNb2RhbCk7XHJcblxyXG4gICAgcHJldmlld01vZGFsQ2FwdGlvbkVsLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cclxuICAgIHByZXZpZXdNb2RhbEltZ0VsLnNyYyA9IGRhdGEubGluaztcclxuICAgIHByZXZpZXdNb2RhbEltZ0VsLmFsdCA9IGRhdGEubmFtZTtcclxuICB9KTtcclxuXHJcbiAgY2FyZERlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZWRpdE1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjbG9zZU1vZGFsKGVkaXRNb2RhbCk7XHJcbn0pO1xyXG5cclxucHJldmlld01vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjbG9zZU1vZGFsKHByZXZpZXdNb2RhbCk7XHJcbn0pO1xyXG5cclxuZWRpdEZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlRWRpdEZvcm1TdWJtaXQpO1xyXG5cclxuY2FyZE1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuY2FyZE1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjbG9zZU1vZGFsKGNhcmRNb2RhbCk7XHJcbn0pO1xyXG5cclxuY2FyZEZvcm1Nb2RhbE5ld1Bvc3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVOZXdQb3N0Rm9ybVN1Ym1pdCk7XHJcblxyXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZCk7XHJcbiAgY2FyZHNMaXN0LmFwcGVuZChjYXJkRWxlbWVudCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRXNjYXBlKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCBtb2RhbE9wZW5lZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgaWYgKG1vZGFsT3BlbmVkKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwobW9kYWxPcGVuZWQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwic2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImhpZGVJbnB1dEVycm9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJjb25maWciLCJlcnJvck1zZ0VsIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsInN1Ym1pdEJ1dHRvbiIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsImRpc2FibGVkIiwicmVtb3ZlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTXNnIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJnZXRFbGVtZW50QnlJZCIsInNyYyIsImxvZ29TcmMiLCJhdmF0YXJTcmMiLCJwZW5jaWxTcmMiLCJwbHVzU3JjIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsImVkaXRGb3JtRWxlbWVudCIsImVkaXRNb2RhbCIsImVkaXRNb2RhbENsb3NlQnRuIiwiZWRpdE1vZGFsTmFtZUlucHV0IiwiZWRpdE1vZGFsRGVzY3JpcHRpb25JbnB1dCIsImNhcmRNb2RhbCIsImNhcmRNb2RhbENsb3NlQnRuIiwiY2FyZE1vZGFsQnRuIiwiY2FyZEZvcm1Nb2RhbE5ld1Bvc3QiLCJlZGl0Q2FyZE5hbWVJbnB1dCIsImVkaXRDYXJkTGlua0lucHV0IiwicHJldmlld01vZGFsIiwicHJldmlld01vZGFsSW1nRWwiLCJwcmV2aWV3TW9kYWxDYXB0aW9uRWwiLCJwcmV2aWV3TW9kYWxDbG9zZUJ0biIsImNhcmRTdWJtaXRCdG4iLCJjYXJkVGVtcGxhdGUiLCJjYXJkc0xpc3QiLCJvcGVuTW9kYWwiLCJtb2RhbCIsImNsb3NlTW9kYWxPdmVybGF5IiwiaGFuZGxlRXNjYXBlIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmROYW1lRWxlbWVudCIsImNhcmRJbWFnZUVsZW1lbnQiLCJjYXJkTGlrZUJ0biIsImNhcmREZWxldGVCdG4iLCJuYW1lIiwibGluayIsImFsdCIsInRvZ2dsZSIsImtleSIsIm1vZGFsT3BlbmVkIiwicmVzZXRWYWxpZGF0aW9uIiwidmFsdWUiLCJpbnB1dCIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRWYWx1ZXMiLCJyZXNldCIsInByZXBlbmQiLCJjYXJkIiwiYXBwZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==